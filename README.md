# **Ziin**Drive - 스프링 프레임워크와 js로 구현한 파일 저장용 CRUD 웹사이트

**Ziin**Drive는 주인장이 첫 스프링 프젝으로 뭘 만들까 고민하다가 CRUD 정도는 만들 줄 알아야 된다는 얘기를 듣고 대표적인 CRUD 웹사이트인 Google Drive에서 영감을 받아 만든 ~~(사실상 구글드라이브 짭)~~ 프로그램입니다.

-   처음 만들 때는 api 설계에 대해 아는 바가 없어 GPT 말만 들으면서 `GET`과 `POST`만 남발하다가 전혀 RESTful하지 않다는 것을 알게 되어 모든 매핑을 전부 REST 방식으로 뜯어고친 전적이 있습니다.

-   심지어 프론트까지 분리된 제대로 된 REST 프로젝트로 만들고 싶어서 타임리프를 버리고 모든 데이터를 js로 렌더링하는 방식을 사용하고 있습니다

-   주인장은 프론트랑은 **정말** 맞지 않는 사람이라서 이제 UI 꾸미기를 도와주실 html 및 css를 매우 잘 다루시고 개쩌는 미감을 가지신 분이 나타나주시면 정말 좋을것 같읍니다...

## 기능 소개

-   메인 화면 (모든 파일 보기)

    -   `/files`로 들어가면 볼 수 있는 맨 처음 나오는 화면
    -   화면 위쪽의 로고를 누르거나 검색어를 모두 초기화한 상태에서 검색을 누르면 메인 화면으로 이동 가능
    -   입력한 모든 검색어 및 검색 조건은 자동 초기화됨

-   파일 업로드

    -   확장자 검사 및 파일 크기 포매팅
    -   UUID 생성하여 파일 저장
    -   파일 업로드 후에는 자동으로 메인 화면으로 돌아감
    -   이름 길이나 문자 제한 윈도우 예약어 제한, 파일 용량 제한 기능 탑재

-   파일 다운로드

    -   파일의 고유 id를 받아 `Resource` 형태로 반환, 브라우저에서 받은 파일 리소스를 저장

-   정렬

    -   최신순, 이름순, 오래된순 정렬 가능
    -   정렬을 바꿔도 페이지는 새로고침되지 않고 데이터만 리렌더링됨

-   검색

    -   제목(제목에 포함되는 단어), 확장자, 기간별로 검색 가능
    -   초기화 버튼을 통해 편리하게 검색조건을 모두 비울 수 있음 (메인 화면으로 바로 돌아가지는 않음!)
    -   제목 찾기 기능은 추후 수정 예정 (띄어쓰기 무시 등)

-   이름 수정

    -   사용자는 파일의 이름 외에 다른 정보를 수정할 수 없음
    -   이름 길이 제한, 문자 제한, 예약어 제한 기능 탑재
    -   효율성을 위해 이름순 정렬일 경우에만 데이터 리렌더링, 나머지는 표시되는 이름만 바꿔주기

-   삭제

    -   DB(메타데이터)와 실제 파일 저장소에서 파일이 모두 삭제됨
    -   삭제된 파일 데이터 제외하고 다시 검색하여 파일 목록 리렌더링
    -   추후 휴지통 기능이 추가되면 파일의 `active` 속성만 바꿔주고 휴지통 경로로 파일을 이동하는 작업으로 바꿀 예정

---

### 기능별 API 소개

-   모든 파일:

    -   뷰 로딩: `GET /files`
    -   데이터 로딩: `GET /api/files`

-   검색:

    -   뷰 로딩: `GET /files/search?(파라미터)`
    -   데이터 로딩: `GET /api/files` (모든파일과 같은 곳에서 처리)

-   정렬:

    -   현재 저장된 정렬 기준: `GET /api/files/sort`
    -   새로 정렬한 파일 목록 로딩: `GET /api/files/sort/{sort}`

-   업로드: `POST /api/files`

-   다운로드: `GET /api/files/{id}`

-   이름 수정: `PATCH /api/files`

-   삭제: `DELETE /api/files/{id}`

## 추가할 기능

-   아직 `localhost:8080`에서만 불러올 수 있는 사이트라서 언젠가 실제 url로 배포해보고 싶은 생각이 있습니당

-   휴지통 기능 만들 예정

    -   현재 휴지통 페이지 뷰는 문서만 만들어놓은 상태 (아무것도 안들어감)
    -   검색조건 홀더에 `active` 속성 추가함
    -   파일 엔티티에 `active` 속성 추가함 (`active==false`이면 휴지통에 들어간 상태)
    -   휴지통 api 추가 예정 (복원, 영구삭제)
    -   기존 삭제 기능에서 최종 삭제할지 alert는 휴지통 쪽으로 옮길 예정

-   즐겨찾기 기능?

-   사용자 계정별로 로그인, 분류하는 기능 만들고 싶음
    -   SQL 좀더 공부해 오겠습니다.....
