<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>휴지통 - ZiinDrive</title>
	</head>
	<body>
		<style>
			.spanCustom {
				display: flex;
				justify-content: space-between;
				align-items: center;
				height: 70px;
			}
			.logo {
				width: 110px;
				color: black;
				cursor: default;
				user-select: none;
			}
			.logo:hover {
				color: darkcyan;
			}
			.menuBt {
				font-size: 40px;
				padding: 2px 15px;
				text-align: center;
				background-color: transparent;
				border: none;
				color: rgb(134, 133, 133);
				font-family: "Courier new";
			}
			.overlay {
				position: fixed;
				top: 0;
				left: 0;
				width: 100vw;
				height: 100vh;
				background-color: rgba(102, 102, 102, 0.222);
				z-index: 99;
				visibility: hidden;
			}
			.overlay.active {
				visibility: visible;
			}
			.sidemenu {
				position: fixed;
				top: 0;
				right: 0;
				width: 300px;
				height: 100vh;
				background-color: aliceblue;
				z-index: 100;
				visibility: hidden;
			}
			.sidemenu.active {
				visibility: visible;
			}
			.isEmpty {
				display: none;
				width: 100%;
				height: 300px;
				align-items: center;
				justify-content: center;
			}
			.restoreBt {
				background-color: lightgray;
				color: black;
			}
			.shredBt {
				background-color: firebrick;
				color: white;
			}
		</style>

		<!-- 사이트 로고 + 메뉴버튼 -->
		<span class="spanCustom">
			<h2 class="logo" onclick="toMainView()">
				&nbsp;&nbsp;&nbsp;<b>Ziin</b>Drive
			</h2>

			<div>
				<button class="menuBt" onclick="showMenu()"><b>≡</b></button>
				<label style="font-size: 15px">&nbsp;&nbsp;&nbsp;</label>
			</div>
		</span>

		<div class="overlay" onclick="closeMenu()"></div>

		<div class="sidemenu">
			<button class="menuBt" onclick="closeMenu()"><b>×</b></button>
			<h3>&nbsp;&nbsp;&nbsp;MENU</h3>

			<ul>
				<li onclick="location.href='/files'">모든 파일</li>
				<li>즐겨찾기</li>
				<li onclick="location.href='/bin'">휴지통</li>
			</ul>
		</div>

		<!-- 모든 파일 리스트 -->
		<div>
			<table style="width: 100%; text-align: center">
				<thead>
					<tr style="height: 50px; align-items: center">
						<th style="width: 400px; color: rgb(134, 133, 133)">
							파일명
						</th>
						<th style="width: 220px; color: rgb(134, 133, 133)">
							업로드 날짜
						</th>
						<th style="width: 220px; color: rgb(134, 133, 133)">
							크기
						</th>
						<th>&nbsp;&nbsp;</th>
						<th>&nbsp;&nbsp;</th>
						<th>&nbsp;&nbsp;</th>
					</tr>
				</thead>
				<tbody id="tBody">
					<!--js에서 구현-->
				</tbody>
			</table>
		</div>

		<!-- 파일이 없을 때 -->
		<div id="isEmpty" class="isEmpty">
			<h3>휴지통이 비어 있습니다.</h3>
		</div>

		<!-- 스크립트 -->
		<script src="/js/binRender.js" type="module"></script>
		<script src="/js/restore.js" type="module"></script>
		<script src="/js/shred.js" type="module"></script>
		<script src="/js/showMenu.js"></script>

		<!--bfcache 처리-->
		<script>
			window.addEventListener("pageshow", function (event) {
				if (
					event.persisted ||
					window.performance?.navigation?.type === 2
				) {
					// 뒤로가기로 복원됐거나, bfcache로 들어옴
					location.reload(); // 강제로 새로고침
				}
			});
		</script>
	</body>
</html>
